The first noteworthy thing happening in this service is that an instance of `Auth0Lock` is created. The arguments passed to it include the ID and domain for your application, as well as an options object. The Lock widget has a method called `on` which is where some action can be registered when an event fires. The event of interest in this scenario is `authenticated`, as it's that event which will be fired when a successful authentication transaction happens. The callback provided to this event listener calls a function named `setSession` which is responsible for calculating the time at which the Access Token will expire and which sets the `access_token`, `id_token`, and the `expires_at` time in local storage.

Authentication using JSON Web Tokens is stateless by nature, meaning that there is no information about the user's session stored on your server. In this way, setting up a session for the user on the client side is simply a matter of saving the Access Token, ID Token, and a time that the Access Token expires at in browser storage. Conversely, logging the user out only requires that these items be removed from storage. These examples use local storage to save the tokens and the expiry time, but you may also use session storage or cookies if you wish.

The application needs some way to make decisions about showing or hiding UI elements and restricting routing based on whether or not the user can be considered "authenticated". Once again, since JWT authentication is stateless, there is no real way to say whether the user is authenticated in any traditional sense, but there are clues that can be used. The best clue to go with is whether or not the Access Token is expired. If it is expired, anything meaningful that the user could do with it--such as a call to your API for protected resources--will not work. It's at this point that the user would need to reauthenticate and get a new token. The `isAuthenticated` function checks whether the expiry time for the Access Token has passed or not so that the above-mentioned decisions can be made.
