---
title: Authorization
description: This tutorial demonstrates how to use the Auth0 Nginx SDK to add authentication and authorization to your API.
topics:
    - quickstart
    - backend
    - nginx
contentType: tutorial
useCase: quickstart
---

::: panel-info System Requirements
This tutorial and seed project have been tested with the following:
* Openresty 1.9.7.2
:::

**Please follow the steps below to secure your existing API with an Nginx reverse-proxy that's configured to process JWT's generated by your Auth0 account.**

## Install the `nginx-jwt` script into your Nginx server

The <a href="https://github.com/auth0/nginx-jwt" target="_blank" rel="noreferrer">`nginx-jwt`</a> script is a Lua script that is designed to run on Nginx servers that have the <a href="https://github.com/openresty/lua-nginx-module#readme" target="_blank" rel="noreferrer">HttpLuaModule</a> installed. But ultimately its dependencies require components available in the <a href="http://openresty.org/" target="_blank" rel="noreferrer">OpenResty</a> distribution of Nginx. Therefore, it is recommended that you use **OpenResty** as your Nginx server, and these instructions make that assumption.

1. Download the latest archive package from <a href="https://github.com/auth0/nginx-jwt/releases" target="_blank" rel="noreferrer">releases</a>.
1. Extract the archive and deploy its contents to a directory on your Nginx server.
1. Specify this directory's path using ngx_lua's <a href="https://github.com/openresty/lua-nginx-module#lua_package_path" target="_blank" rel="noreferrer">lua_package_path</a> directive:

```lua
# nginx.conf:

http {
    lua_package_path "/path/to/lua/scripts;;";
    ...
}
```

## Configure `nginx-jwt` with your Auth0 account

1. Export the `JWT_SECRET` environment variable on the Nginx host, setting it equal to your Client Secret.
1. Expose this environment variable to the Nginx server:

```lua
# nginx.conf:

env JWT_SECRET;
```

## Secure your API

Now, secure one or more locations that point to your backing service endpoints by using the <a href="https://github.com/openresty/lua-nginx-module#access_by_lua" target="_blank" rel="noreferrer">access_by_lua</a> directive to call the `nginx-jwt` script's <a href="https://github.com/auth0/nginx-jwt#auth" target="_blank" rel="noreferrer">`auth()`</a> function before executing any <a href="http://nginx.org/en/docs/http/ngx_http_proxy_module.html" target="_blank" rel="noreferrer">proxy_* directives</a>:


```lua
# nginx.conf:

server {
    location /secure_this {
        access_by_lua '
            local jwt = require("nginx-jwt")
            jwt.auth()
        ';

        proxy_pass http://my-backend.com$uri;
    }
}
```

Click <a href="https://github.com/auth0/nginx-jwt#usage" target="_blank" rel="noreferrer">here</a> for more usage examples.


## Call Your API

You can now make requests against your secure API by providing the Authorization header in your requests with a valid JWT ID Token.

```har
{
  "method": "GET",
  "url": "http://localhost:8000/path_to_your_api",
  "headers": [
    { "name": "Authorization", "value": "Bearer YOUR_ID_TOKEN_HERE" }
  ]
}
```
