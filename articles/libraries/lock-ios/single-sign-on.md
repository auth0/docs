# Lock iOS: Single Sign On

Lock allows you to easily implement [**single sign-on**](/sso) (SSO) in your iOS apps. 

SSO is a mechanism that allows a user to share the same credentials among multiple applications. If you have two different applications and you have a user that is already authenticated in app A, single sign-on can authenticate that user automatically in app B as well. The experience is similar to what happens with Facebook and it's companion Messenger app, or with Foursquare and Swarm.

## Simple Keychain

You are going to need the [SimpleKeychain](https://github.com/auth0/SimpleKeychain) dependency for storing and retrieving users' credentials securely through different apps. You can quickly integrate it in your project through Cocoapods or Carthage.

**Cocoapods:** Add the following line to your `Podfile` and run `pod install`:

```ruby
pod "SimpleKeychain" 
```

**Carthage:** Add the following line to your `Cartfile` and run `carthage bootstrap`:

```javascript
github "auth0/SimpleKeychain"
```

## The Process

What you want to achieve here is sharing credentials among apps. In order to accomplish that, you will save and retrieve them using [SimpleKeychain](#SimpleKeychain). 

There are some rules to follow that you have to keep on mind when it comes to format your keys so that they can be shared. They are described below.

#### 1. Configure your keys

To enable sharing, you have to define a keychain access group with the following format:
`<Bundle Seed Id>.<Group Name>`, for instance: `ABC1234DEF.mysharedgroup`.

> The Bundle Seed Id is a unique (within the App Store) ten character string that is generated by Apple after you create your appId (using Apple's developers site). Each application identifier has the following format: `<Bundle Seed Id>.<Bundle Indentifier>`.

So, each app having the same Bundle Seed can access to values stored in groups with the same prefix.

That said, the apps:

- **ABC1234DEF.com.auth0.awesomeapp1**
- **ABC1234DEF.com.auth0.awesomeapp2**

Can read/write values stored in the group **ABC1234DEF.mysharedgroup**

In your project, you have to add an entitlements file for each app declaring the access group. Go to the *Capabilities* tab of your project's target (under the *Keychain Sharing* label). Turn it on, and add your group's name only, without the Bundle Seed Id, for instance: `mysharedgroup`.

![Keychain Sharing Switch](/media/articles/libraries/lock-ios/keychain-sharing-switch.png)

#### 2. Save and retrieve credentials from the keychain 

In the source code file where you want to read/write the credentials, import the `SimpleKeychain` module:

```swift
import SimpleKeychain
```

```objective-c
#import <SimpleKeychain/SimpleKeychain.h>
```

To **store** a value in the keychain:

```swift
let keychain = A0SimpleKeychain(service: "Auth0", accessGroup: "ABC1234DEF.mysharedgroup")
keychain.setString(auth0User.refreshToken, forKey: "refresh_token")
```

```objective-c

```

To **retrieve** a value from the keychain:

```swift
let keychain = A0SimpleKeychain(service: "Auth0", accessGroup: "ABC1234DEF.mysharedgroup")
let refreshToken = keychain.stringForKey("refresh_token")
```

```objective-c

```

## Relevant Content

You can find relevant information for these contents in these places:

- [Single Sign-On](/sso)
- [Lock iOS: Session Persistence](session-persistence)
- [Session Handling Quickstart (Swift)](/docs/articles/native-platforms/ios-swift/03-session-handling)
- [Session Handling Quickstart (Objective-C)](/docs/articles/native-platforms/ios-objc/03-session-handling)