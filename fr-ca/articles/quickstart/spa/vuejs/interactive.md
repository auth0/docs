---
title: Ajouter une connexion à votre application Vue
description: Ce guide explique comment intégrer Auth0, ajouter l’authentification et afficher les informations de profil utilisateur dans n’importe quelle application Vue à l’aide de la trousse SDK Vue Auth0.
interactive:  true
files:
 - files/index
 - files/login
 - files/logout
 - files/profile
github:
  path: 01-Login
locale: fr-CA
---

# Ajouter une connexion à votre application Vue


<p></p><p>Auth0 vous permet d’ajouter l’authentification à presque tous les types d’applications. Ce guide explique comment intégrer Auth0, ajouter l’authentification et afficher les informations de profil utilisateur dans n’importe quelle application Vue à l’aide de la trousse SDK Vue Auth0.</p><p><div class="alert-container" severity="warning"><p>Ce guide rapide est conçu pour l’utilisation de <a href="https://github.com/auth0/auth0-vue" target="_blank" rel="noreferrer noopener">Vue Auth0</a> avec des applications Vue 3. Si vous utilisez Vue 2, veuillez plutôt consulter le <a href="https://github.com/auth0/auth0-vue/blob/main/tutorial/vue2-login.md" target="_blank" rel="noreferrer noopener">tutoriel Vue 2 avec la trousse SDK Auth0 SPA</a> ou le guide <a href="https://developer.auth0.com/resources/guides/spa/vue/basic-authentication/v2-javascript" target="_blank" rel="noreferrer noopener">Vue.js Authentication 2 By Example</a>.</p></div></p><p>Pour utiliser ce guide rapide, vous aurez besoin de :</p><ul><li><p>Un compte Auth0 gratuit ou une connexion à Auth0.</p></li><li><p>Un projet Vue fonctionnel avec lequel vous souhaitez vous intégrer OU vous pouvez télécharger un exemple d’application après vous être connecté.</p></li></ul><p></p>

## Configuration d’Auth0


<p>Pour utiliser les services Auth0, vous devez avoir une application installée dans Auth0 Dashboard. L’application Auth0 est l’endroit où vous allez configurer le fonctionnement de l’authentification pour le projet que vous développez.</p><h3>Configurer une application</h3><p>Utilisez le sélecteur interactif pour créer une nouvelle application Auth0 ou sélectionner une application existante qui représente le projet avec lequel vous souhaitez effectuer l’intégration. Dans Auth0, il est attribué à chaque application un identifiant client unique alphanumérique que votre code d’application utilisera pour appeler les API Auth0 via la trousse SDK.</p><p>Tous les paramètres que vous configurez à l’aide de ce guide rapide seront automatiquement mis à jour pour votre application dans le <a href="https://manage.auth0.com/dashboard/us/dev-1-2s2aq0/" target="_blank" rel="noreferrer noopener">Dashboard</a>, qui est l’endroit où vous pourrez gérer vos applications à l’avenir.</p><p>Si vous préférez explorer une configuration complète, consultez plutôt un exemple d’application.</p><h3>Configuration des URL de rappel</h3><p>Une URL de rappel est une URL intégrée dans votre application vers laquelle vous souhaitez qu’Auth0 redirige les utilisateurs après leur authentification. Si elle n’est pas définie, les utilisateurs ne seront pas redirigés vers votre application après s’être connectés.</p><p><div class="alert-container" severity="default"><p>Si vous suivez notre projet à titre d’exemple, définissez ceci sur <code>http://localhost:3000</code>.</p></div></p><h3>Configuration des URL de déconnexion</h3><p>Une URL de déconnexion est une URL intégrée dans votre application vers laquelle vous souhaitez qu’Auth0 redirige les utilisateurs après leur déconnexion. Si elle n’est pas définie, les utilisateurs ne pourront pas se déconnecter de votre application et recevront un message d’erreur.</p><p><div class="alert-container" severity="default"><p>Si vous suivez notre projet à titre d’exemple, définissez ceci sur <code>http://localhost:3000</code>.</p></div></p><h3>Configurer les origines Web autorisées</h3><p>Une origine Web autorisée est une URL que vous souhaitez autoriser à accéder à votre flux d’authentification. Elle doit contenir l’URL de votre projet. Si elle n’est pas configurée adéquatement, votre projet ne pourra pas actualiser silencieusement les jetons d’authentification, ce qui entraînera la déconnexion de vos utilisateurs lorsque prochainement ils visiteront votre application ou lors de l’actualisation d’une page.</p><p><div class="alert-container" severity="default"><p>Si vous suivez notre projet à titre d’exemple, définissez ceci sur <code>http://localhost:3000</code>.</p></div></p>

## Installer la trousse SDK Auth0 Vue {{{ data-action="code" data-code="index.js" }}}


<p>Auth0 propose une <a href="https://github.com/auth0/auth0-vue" target="_blank" rel="noreferrer noopener">trousse SDK Vue</a> pour simplifier le processus d’implémentation de l’authentification et de l’autorisation Auth0 dans les applications Vue 3.</p><p>Installez la trousse SDK Auth0 Vue en exécutant les commandes suivantes dans votre terminal :</p><p><pre><code class="language-bash">cd &lt;your-project-directory&gt;

npm install @auth0/auth0-vue

</code></pre>

</p><h3>Enregistrer le plugiciel</h3><p>Pour que la trousse SDK fonctionne, vous devez enregistrer le plugiciel dans votre application Vue à l’aide des propriétés suivantes :</p><ul><li><p><code>domain</code> : Le domaine de votre locataire Auth0. Cette valeur se trouve dans Auth0 Dashboard dans les Settings (Paramètres) de votre application dans le champ Domain (Domaine). Si vous utilisez un <a href="https://auth0.com/docs/custom-domains" target="_blank" >domaine personnalisé</a>, définissez-le plutôt sur la valeur de votre domaine personnalisé.</p></li><li><p><code>clientId</code> : L’identifiant de l’application Auth0 que vous avez configurée précédemment dans le démarrage rapide. Vous le trouverez dans Auth0 Dashboard sous les paramètres de votre application dans le champ Client ID (Identifiant client).</p></li><li><p><code>authorizationParams.redirect_uri</code> : L’URL dans votre application vers laquelle vous souhaitez qu’Auth0 redirige les utilisateurs après leur authentification. Cela correspond à l’URL de rappel que vous avez configurée précédemment dans ce démarrage rapide. Cette valeur se trouve dans Auth0 Dashboard, dans les Paramètres de votre application, dans le champ URL de rappel. Assurez-vous que ce que vous saisissez dans votre code correspond à ce que vous avez configuré précédemment, au cas contraire, vos utilisateurs verront une erreur.</p></li></ul><p>Le plugiciel enregistrera la trousse SDK en utilisant à la fois <code>provide</code> et <code>app.config.globalProperties</code>. Cela permet d’activer à la fois l’<a href="https://vuejs.org/guide/introduction.html#composition-api" target="_blank" rel="noreferrer noopener">API de composition</a> et l’<a href="https://vuejs.org/guide/introduction.html#options-api" target="_blank" rel="noreferrer noopener">API d’options</a>.</p><p><div class="checkpoint">Démarrage rapide Vue - Étape 2 - Point de contrôle <div class="checkpoint-default"><p>Le plugiciel est maintenant configuré. Exécutez votre application pour vérifier que :</p><ul><li><p>la trousse SDK est correctement initialisée,</p></li><li><p>votre application ne génère aucune erreur liée à Auth0.</p></li></ul><p></p></div>

  <div class="checkpoint-success"></div>

  <div class="checkpoint-failure"><p>Si votre application n’a pas démarré :</p><ul><li><p>Vérifiez que vous avez sélectionné la bonne application</p></li><li><p>Enregistrez vos modifications après avoir saisi vos URL</p></li><li><p>Vérifiez que le domaine et l’identifiant client ont été importés correctement</p></li></ul><p>Vous rencontrez toujours des problèmes? Consultez notre <a href="https://auth0.com/docs" target="_blank" >documentation</a> ou la <a href="https://community.auth0.com/" target="_blank" rel="noreferrer noopener">page de notre communauté</a> pour obtenir de l’aide.</p></div>

  </div></p>

## Ajouter une fonctionnalité de connexion à votre application {{{ data-action="code" data-code="login.js" }}}


<p>Vous allez ensuite configurer une connexion pour votre projet. Vous utiliserez la fonction <code>loginWithRedirect</code> de la trousse SDK exposée à la valeur de retour de <code>useAuth0</code>, à laquelle vous pouvez accéder dans la fonction de configuration de votre composant. Elle redirigera les utilisateurs vers la page de connexion universelle Auth0 et, après l’authentification de l’utilisateur, elle le redirigera vers l’URL de rappel que vous avez configurée plus tôt dans ce guide rapide.</p><h3>Utilisation d’Options API</h3><p>Si vous utilisez Options API, vous pouvez utiliser la même méthode <code>loginWithRedirect</code> à partir de la propriété globale <code>$auth0</code> via l’accesseur <code>this</code>.</p><p><div class="checkpoint">Démarrage rapide Vue – Étape 3 – Point de contrôle <div class="checkpoint-default"><p>Vous devriez maintenant être en mesure de vous connecter en utilisant la connexion universelle Auth0.</p><p>Appuyez sur le bouton de connexion et vérifiez que :</p><ul><li><p>Votre application Vue vous redirige vers la page de connexion universelle Auth0.</p></li><li><p>Vous pouvez vous connecter ou vous inscrire.</p></li><li><p>Auth0 vous redirige vers votre application en utilisant la valeur <code>authorizationParams.redirect_uri </code> que vous avez utilisée pour configurer le plugiciel.</p></li></ul><p></p></div>

  <div class="checkpoint-success"></div>

  <div class="checkpoint-failure"><p>Si vous n’avez pas pu vous connecter à l’aide de la connexion universelle Auth0 :</p><ul><li><p>Vérifiez que vous avez configuré le bon <code>authorizationParams.redirect_uri</code></p></li><li><p>Vérifiez que le domaine et l’identifiant client sont correctement définis</p></li></ul><p>Vous rencontrez toujours des problèmes? Consultez notre <a href="https://auth0.com/docs" target="_blank" >documentation</a> ou la <a href="https://community.auth0.com/" target="_blank" rel="noreferrer noopener">page de notre communauté</a> pour obtenir de l’aide.</p></div>

  </div></p>

## Ajouter une fonctionnalité de déconnexion à votre application {{{ data-action="code" data-code="logout.js" }}}


<p>Les utilisateurs qui se connectent à votre projet auront également besoin d’un moyen de se déconnecter. Quand les utilisateurs se déconnectent, votre application les redirige vers votre point de terminaison <a href="https://auth0.com/docs/api/authentication?javascript#logout" target="_blank" >Déconnexion Auth0</a>, qui les redirige ensuite vers le paramètre <code>logoutParams.returnTo</code> indiqué.</p><p>Utilisez la fonction <code>logout</code> exposée sur la valeur de retour <code>useAuth0</code>, à laquelle vous pouvez accéder dans la fonction <code>setup</code> de votre composant, pour déconnecter l’utilisateur de votre application.</p><p></p><h3>Utilisation d’Options API</h3><p>Avec l’Options API, vous pouvez utiliser la même méthode <code>logout</code> à partir de la propriété globale <code>$auth0</code> via l’accesseur <code>this</code>.</p><p><div class="checkpoint">Démarrage rapide Vue - Étape 4 - Point de contrôle <div class="checkpoint-default"><p>Exécutez votre application et cliquez sur le bouton de déconnexion, vérifiez que :</p><ul><li><p>votre application Vue vous redirige vers l’adresse <code>logoutParams.returnTo </code>,</p></li><li><p>vous n’êtes plus connecté à votre application.</p></li></ul><p></p></div>

  <div class="checkpoint-success"></div>

  <div class="checkpoint-failure"><p>Si vous ne parvenez pas à vous déconnecter :</p><ul><li><p>Vérifiez que vous avez précisé une valeur pour <code>logoutParams.returnTo</code> lors de l’appel de <code>logout</code></p></li><li><p>Vérifiez que les URL de déconnexion autorisées dans les paramètres de votre application contiennent la valeur <code>returnTo</code>.</p></li></ul><p>Vous rencontrez toujours des problèmes? Consultez notre <a href="https://auth0.com/docs" target="_blank" >documentation</a> ou la <a href="https://community.auth0.com/" target="_blank" rel="noreferrer noopener">page de notre communauté</a> pour obtenir de l’aide.</p></div>

  </div></p>

## Afficher les informations du profil utilisateur {{{ data-action="code" data-code="profile.js" }}}


<p>Vous allez ensuite configurer la manière de récupérer les <a href="https://auth0.com/docs/users/concepts/overview-user-profile" target="_blank" >informations de profil</a> associées aux utilisateurs authentifiés. Par exemple, vous voudrez peut-être pouvoir afficher le nom ou la photo de profil d’un utilisateur connecté dans votre projet. Une fois l’utilisateur authentifié, la trousse SDK extrait les informations du profil utilisateur et les stocke en mémoire. L’application peut accéder au profil utilisateur à l’aide de la propriété réactive <code>user</code>. Pour accéder à cette propriété, examinez la fonction <code>setup</code> de votre composant et trouvez la valeur de retour de <code>userAuth0</code>.</p><p>La propriété <code>user</code> contient des informations sensibles relatives à l’identité de l’utilisateur. Elle n’est disponible qu’en fonction de l’état d’authentification de l’utilisateur. Pour éviter les erreurs de rendu, vous devez toujours :</p><ul><li><p>utiliser la propriété <code>isAuthenticated</code> pour déterminer si Auth0 a authentifié l’utilisateur avant que Vue ne rende un composant qui consomme la propriété <code>user</code>.</p></li><li><p>vous assurer que la trousse SDK a fini de se charger en vérifiant que <code>isLoading</code> est false avant d’accéder à la propriété <code>isAuthenticated</code>.</p></li></ul><h3>Utilisation de l’API Options</h3><p>Pour l’API Options, utilisez les mêmes propriétés réactives <code>user</code>, <code>isLoading</code> et <code>isAuthenticated</code> de la propriété globale <code>$auth0</code> via l’accesseur <code>this</code>.</p><p><div class="checkpoint">Vue - Étape 5 - Point de contrôle <div class="checkpoint-default"><p>Vérifiez que :</p><ul><li><p>vous pouvez afficher <code>user</code> ou l’une des propriétés de l’utilisateur correctement dans un composant, après vous être connecté.</p></li></ul><p></p></div>

  <div class="checkpoint-success"></div>

  <div class="checkpoint-failure"><p>Si vous rencontrez des problèmes avec les propriétés <code>user</code> :</p><ul><li><p>Vérifiez que vous avez ajouté la vérification <code>isLoading</code> avant d’accéder à la propriété <code>isAuthenticated</code></p></li><li><p>Vérifiez que vous avez ajouté la vérification <code>isAuthenticated</code> avant d’accéder à la propriété <code>user</code></p></li></ul><p>Vous rencontrez toujours des problèmes? Consultez notre <a href="https://auth0.com/docs" target="_blank" >documentation</a> ou la <a href="https://community.auth0.com/" target="_blank" rel="noreferrer noopener">page de notre communauté</a> pour obtenir de l’aide.</p></div>

  </div></p>
